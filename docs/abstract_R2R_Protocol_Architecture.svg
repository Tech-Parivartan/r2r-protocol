<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   width="800"
   height="500"
   version="1.1"
   id="svg21"
   sodipodi:docname="R2R_Protocol_Architecture.svg"
   inkscape:version="1.4.2 (ebf0e940, 2025-05-08)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview21"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="0.98468232"
     inkscape:cx="472.7413"
     inkscape:cy="184.32341"
     inkscape:window-width="1440"
     inkscape:window-height="872"
     inkscape:window-x="238"
     inkscape:window-y="1108"
     inkscape:window-maximized="0"
     inkscape:current-layer="svg21" />
  <!-- Background -->
  <rect
     width="800"
     height="500"
     fill="#ffffff"
     id="rect1" />
  <!-- Title -->
  <text
     x="400"
     y="40"
     font-family="Arial"
     font-size="20"
     font-weight="bold"
     text-anchor="middle"
     id="text1">
    R2R Protocol Architecture
  </text>
  <!-- Coordinator Layer -->
  <rect
     x="50"
     y="80"
     width="220"
     height="120"
     fill="#cce5ff"
     stroke="#004085"
     stroke-width="2"
     rx="10"
     ry="10"
     id="rect2" />
  <text
     x="160"
     y="110"
     font-family="Arial"
     font-size="16"
     font-weight="bold"
     fill="#004085"
     text-anchor="middle"
     id="text2">
    Coordinator Layer
  </text>
  <text
     x="160"
     y="135"
     font-family="Arial"
     font-size="14"
     fill="#004085"
     text-anchor="middle"
     id="text3">
    - Robot Discovery
  </text>
  <text
     x="160"
     y="155"
     font-family="Arial"
     font-size="14"
     fill="#004085"
     text-anchor="middle"
     id="text4">
    - Authentication (OAuth2)
  </text>
  <text
     x="160"
     y="175"
     font-family="Arial"
     font-size="14"
     fill="#004085"
     text-anchor="middle"
     id="text5">
    - Task Allocation
  </text>
  <!-- Transport Layer -->
  <rect
     x="300"
     y="80"
     width="220"
     height="120"
     fill="#d4edda"
     stroke="#155724"
     stroke-width="2"
     rx="10"
     ry="10"
     id="rect5" />
  <text
     x="410"
     y="110"
     font-family="Arial"
     font-size="16"
     font-weight="bold"
     fill="#155724"
     text-anchor="middle"
     id="text6">
    Transport Layer
  </text>
  <text
     x="410"
     y="135"
     font-family="Arial"
     font-size="14"
     fill="#155724"
     text-anchor="middle"
     id="text7">
    - TCP / UDP
  </text>
  <text
     x="410"
     y="155"
     font-family="Arial"
     font-size="14"
     fill="#155724"
     text-anchor="middle"
     id="text8">
    - MQTT / WebSocket
  </text>
  <text
     x="410"
     y="175"
     font-family="Arial"
     font-size="14"
     fill="#155724"
     text-anchor="middle"
     id="text9">
    - Protocol Multiplexer
  </text>
  <!-- Message Processing Layer -->
  <rect
     x="550"
     y="80"
     width="220"
     height="120"
     fill="#fff3cd"
     stroke="#856404"
     stroke-width="2"
     rx="10"
     ry="10"
     id="rect9" />
  <text
     x="660"
     y="110"
     font-family="Arial"
     font-size="16"
     font-weight="bold"
     fill="#856404"
     text-anchor="middle"
     id="text10">
    Message Processing Layer
  </text>
  <text
     x="660"
     y="135"
     font-family="Arial"
     font-size="14"
     fill="#856404"
     text-anchor="middle"
     id="text11">
    - Schema Validation
  </text>
  <text
     x="660"
     y="155"
     font-family="Arial"
     font-size="14"
     fill="#856404"
     text-anchor="middle"
     id="text12">
    - Routing  Filtering
  </text>
  <text
     x="660"
     y="175"
     font-family="Arial"
     font-size="14"
     fill="#856404"
     text-anchor="middle"
     id="text13">
    - Protobuf / JSON
  </text>
  <!-- Client SDK Layer -->
  <rect
     x="275"
     y="250"
     width="250"
     height="120"
     fill="#f8d7da"
     stroke="#721c24"
     stroke-width="2"
     rx="10"
     ry="10"
     id="rect13" />
  <text
     x="400"
     y="280"
     font-family="Arial"
     font-size="16"
     font-weight="bold"
     fill="#721c24"
     text-anchor="middle"
     id="text14">
    Client SDK Layer
  </text>
  <text
     x="400"
     y="305"
     font-family="Arial"
     font-size="14"
     fill="#721c24"
     text-anchor="middle"
     id="text15">
    - Python, Rust, C++, Go, JS
  </text>
  <text
     x="400"
     y="325"
     font-family="Arial"
     font-size="14"
     fill="#721c24"
     text-anchor="middle"
     id="text16">
    - Abstracted APIs
  </text>
  <text
     x="400"
     y="345"
     font-family="Arial"
     font-size="14"
     fill="#721c24"
     text-anchor="middle"
     id="text17">
    - Robot Communication
  </text>
  <!-- Arrows -->
  <!-- Coordinator to Transport -->
  <line
     x1="270"
     y1="140"
     x2="300"
     y2="140"
     stroke="#000"
     stroke-width="2"
     marker-end="url(#arrowhead)"
     id="line17" />
  <text
     x="-182.97238"
     y="292.53116"
     font-family="Arial"
     font-size="12px"
     fill="#000000"
     text-anchor="middle"
     id="text18"
     transform="rotate(-88.285942)">Task Allocation</text>
  <!-- Transport to Message Processing -->
  <line
     x1="520"
     y1="140"
     x2="550"
     y2="140"
     stroke="#000"
     stroke-width="2"
     marker-end="url(#arrowhead)"
     id="line18" />
  <text
     x="-77.428741"
     y="541.72821"
     font-family="Arial"
     font-size="12px"
     fill="#000000"
     text-anchor="middle"
     id="text19"
     transform="rotate(-87.635063)">Messaging</text>
  <!-- Message Processing to Client SDK -->
  <line
     x1="664.81641"
     y1="200.81969"
     x2="526.39923"
     y2="290.97797"
     stroke="#000000"
     stroke-width="1.24566"
     marker-end="url(#arrowhead)"
     id="line19" />
  <text
     x="133.26625"
     y="551.32898"
     font-family="Arial"
     font-size="10.6516px"
     fill="#000000"
     text-anchor="middle"
     transform="matrix(0.85611094,-0.58403646,0.85611094,0.58403646,0,0)"
     id="text20"
     style="stroke-width:0.887635">Validated Messages</text>
  <!-- Client SDK to Transport -->
  <line
     x1="398.83981"
     y1="250.01346"
     x2="410.60565"
     y2="200.15091"
     stroke="#000000"
     stroke-width="1.82187"
     marker-end="url(#arrowhead)"
     id="line20" />
  <text
     x="434.40503"
     y="257.94733"
     font-family="Arial"
     font-size="12px"
     fill="#000000"
     text-anchor="middle"
     transform="rotate(-4.1005655)"
     id="text21">Send/Receive</text>
  <!-- Marker definition for arrowheads -->
  <defs
     id="defs21">
    <marker
       id="arrowhead"
       markerWidth="10"
       markerHeight="7"
       refX="10"
       refY="3.5"
       orient="auto"
       fill="#000">
      <polygon
         points="0 0, 10 3.5, 0 7"
         id="polygon21" />
    </marker>
  </defs>
</svg>
